"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _createSharpPipeline = require("./createSharpPipeline");

/**
 * Perform a sequence of transformations on an image.
 * @param {Object} image Initial sharp object.
 * @param {Object} meta Some metadata.
 * @param {Object} imageOptions Transformations to apply.
 * @returns {Object} Resulting sharp object.
 */
const transformImage = (image, meta, imageOptions) => {
  const pipeline = (0, _createSharpPipeline.createSharpPipeline)(imageOptions, meta);
  return pipeline.reduce((image, [key, args]) => {
    // TODO: FIXME: Make TypeScript happy.
    // @ts-expect-error
    return image[key](...args);
  }, image.clone());
};

var _default = transformImage;
exports.default = _default;
//# sourceMappingURL=transformImage.js.map