{"version":3,"sources":["../../src/internal/parseFormat.ts"],"names":["parseFormat","rawFormat","undefined","TypeError","id","format","options"],"mappings":";;;;;;;AAGO,SAASA,WAAT,CACLC,SADK,EAEoC;AACzC,MAAIA,SAAS,KAAKC,SAAlB,EAA6B;AAC3B,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AACD;;AACD,MAAI,OAAOF,SAAP,KAAqB,QAAzB,EAAmC;AACjC,WAAO,CAACA,SAAD,EAAsC,EAAtC,CAAP;AACD;;AAED,QAAM;AACJG,IAAAA,EADI;AAEJ;AACAC,IAAAA,MAAM,GAAGD,EAHL;AAIJ,OAAGE;AAJC,MAKFL,SALJ;AAOA,SAAO,CAACI,MAAD,EAAmCC,OAAnC,CAAP;AACD","sourcesContent":["import sharp from 'sharp';\nimport {Format, FormatOptions} from '../types';\n\nexport function parseFormat(\n  rawFormat: Format | undefined,\n): [keyof sharp.FormatEnum, FormatOptions] {\n  if (rawFormat === undefined) {\n    throw new TypeError('Unable to determine image format.');\n  }\n  if (typeof rawFormat === 'string') {\n    return [rawFormat as keyof sharp.FormatEnum, {}];\n  }\n\n  const {\n    id,\n    // Support deprecated `id` property as alias for `format`\n    format = id,\n    ...options\n  } = rawFormat;\n\n  return [format as keyof sharp.FormatEnum, options];\n}\n"],"file":"parseFormat.js"}